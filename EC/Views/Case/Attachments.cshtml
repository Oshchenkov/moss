@using EC.Models.Database;
@using EC.Models;
@using EC.App_LocalResources;
@using EC.Common.Interfaces;
@using EC.Core.Common;
@using EC.Constants;

@{
    int report_id = (Int32)ViewBag.report_id;
    int user_id = (Int32)ViewBag.user_id;
    List<attachment> attachmentFiles = (List<attachment>)ViewBag.attachmentFiles;
    ReportModel rm = (ReportModel)ViewBag.rm;
}

    <div class="blockContent">
    <!--leftBlockContent-->
    @Html.Partial("~/Views/PartialViews/_ReportDetailsLeft.cshtml",
                        new ViewDataDictionary { { "report_id", report_id },
                                                { "user_id", user_id },
                                                { "attachmentFiles", attachmentFiles } })

    <div class="rightBlockContent">
        <div id="slider"><div class="reportIconWhite"></div></div>
        @if ((rm._investigation_status == ECGlobalConstants.investigation_status_resolution) || (rm._investigation_status == ECGlobalConstants.investigation_status_completed))
            {
            @Html.Partial("~/Views/Case/PartialView/GreenBarCaseResolutionRequest.cshtml")
        }

        @*start*@
        @if (rm._investigation_status == ECGlobalConstants.investigation_status_closed)
            {
            <div class="firstHeader resolveSoledBlock">
                <div class="caseWaitApp">@GlobalRes.CaseClosed</div>
                <div class="positionDropDown">
                    <span class="dropDownfirstHeader flag" style="top: -19px;"></span>
                    <a href="#" class="closeCustom flag"></a>
                </div>
                <div class="positionActivityIcon">
                    <div id="activityIcon"></div>
                    <span>@GlobalRes.Activity</span>
                </div>
            </div>
        }
    </div>
</div>

